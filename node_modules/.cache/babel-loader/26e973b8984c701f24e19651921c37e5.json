{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport axios from 'axios';\nexport default (url => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n\n  const doFetch = () => {};\n\n  useEffect(() => {\n    if (!isLoading) {\n      return;\n    }\n\n    console.log('effect is triggered');\n    axios('https://conduit.productionready.io/api/users/login', {\n      method: 'post',\n      body: {\n        user: {\n          email: 'qq@qq.com',\n          password: '123'\n        }\n      }\n    }).then(res => {\n      console.log('res', res);\n      setIsLoading(false);\n    }).catch(error => {\n      console.log('error', error);\n      setIsLoading(false);\n    });\n  });\n  return [{\n    isLoading,\n    response,\n    error\n  }, doFetch];\n});","map":{"version":3,"sources":["C:/Users/yurBoy/Desktop/bobNode/hook-app/medium_clone/src/node_modules/hooks/useFetch.js"],"names":["useState","useEffect","axios","url","isLoading","setIsLoading","response","setResponse","error","setError","doFetch","console","log","method","body","user","email","password","then","res","catch"],"mappings":"AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,gBAAeC,GAAG,IAAG;AACjB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;;AAEA,QAAMU,OAAO,GAAC,MAAI,CAAE,CAApB;;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACG,SAAL,EAAgB;AACd;AACD;;AACDO,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAEAV,IAAAA,KAAK,CAAC,oDAAD,EAAuD;AAC1DW,MAAAA,MAAM,EAAE,MADkD;AAE1DC,MAAAA,IAAI,EAAE;AACJC,QAAAA,IAAI,EAAE;AACJC,UAAAA,KAAK,EAAE,WADH;AAEJC,UAAAA,QAAQ,EAAE;AAFN;AADF;AAFoD,KAAvD,CAAL,CASGC,IATH,CASQC,GAAG,IAAI;AACXR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBO,GAAnB;AACAd,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAZH,EAaGe,KAbH,CAaSZ,KAAK,IAAI;AACdG,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB;AACAH,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAhBH;AAiBD,GAvBM,CAAT;AAyBA,SAAM,CAAC;AAACD,IAAAA,SAAD;AAAWE,IAAAA,QAAX;AAAoBE,IAAAA;AAApB,GAAD,EAA4BE,OAA5B,CAAN;AACH,CAjCD","sourcesContent":["import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default url =>{\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [response, setResponse] = useState(null)\r\n    const [error, setError] = useState(null)\r\n\r\n    const doFetch=()=>{}\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n          return\r\n        }\r\n        console.log('effect is triggered')\r\n    \r\n        axios('https://conduit.productionready.io/api/users/login', {\r\n          method: 'post',\r\n          body: {\r\n            user: {\r\n              email: 'qq@qq.com',\r\n              password: '123'\r\n            }\r\n          }\r\n        })\r\n          .then(res => {\r\n            console.log('res', res)\r\n            setIsLoading(false)\r\n          })\r\n          .catch(error => {\r\n            console.log('error', error)\r\n            setIsLoading(false)\r\n          })\r\n      })\r\n\r\n    return[{isLoading,response,error},doFetch]\r\n}"]},"metadata":{},"sourceType":"module"}